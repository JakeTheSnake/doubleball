Game Modes
================
Editing: I detta läge ska man kunna skapa nya objekt, placera ut dem på scener och ändra dess attribut och Events.

Directing: I detta läge spelar man spelet med de inställningar som finns, och man kan koppla Actions till Events allt eftersom de inträffar, för Events som inte definerats tidigare.

Playing: Man spelar spelet.

Save och Load
================

Man ska kunna spara ett spel som en JSON-sträng och ladda samma spel från en JSON-sträng.

Global Objects
================

Ett Global Object är ett objekt som finns tillgängligt för att kunna skapas - antingen av användaren i Edit-läge, eller i runtime.

Global Unique Objects
======================
A global unique object is an object that can only exist once in each scene. It will share state and counter values with all other instances or this objects in other scenes. If an instance of this object is destroyed the counter and state values will not be reset upon recreating the object. The unique property should be settable both when initially creating the object and from the edit form. If there is more than 1 instance of a Global Object in any scene this property should not be settable for that object. 

Scene Objects
================

Om ett objekt har placerats i en scen kommer det att få en unik position, och möjligheten att få en unik identifier som användaren kan använda för att targeta detta objektet från actions.

Man kan bara skapa en instans av ett globalt spelarobjekt. Denna instans skall vara densamma över alla scener. Ett spelarobjekt skall inte kunna förstöras, utan bara "försvinna". Dvs alla counters etc som finns på det skall behållas när det försvinner.

Runtime Object
================

Ett Runtime Object är ett Scene Object som ligger i tabellen med runtime. Ett Runetime Object håller ett state för ett specifikt objekt på spelplanen. Identiska Global Objects kommer vara olika Runtime Objects om de existerar som olika instanser på spelplanen.

Tabellen med Runtime Objects klonas från de Scene Objects som finns på den aktiva scenen när spelet startar.

Counters
================

Alla counters är privata, men de kan kommas åt (för att ändras) via det objekt de är kopplade tills instanceId. Counter events kör de actions som är kopplade till eventet på det objekt som countern är kopplat till. 

Counter-objekt visualiserar counters. Kan visualiseras som text, en stapel, eller ikoner (typ zelda-hjärtan). 

Counter events:
- On Increase
- On Decrease
- At Value
- Above Value
- Below Value

Counter Actions:
- Increase by
- Decrease by
- Set to

Text (prio 2)
================
Ett textobjekt är en textarea som kan visa olika texter under spelets gång.
Attribut:
Size
Style (color, size, font)
Text

Actions:
Hide
Show
SetText

Objekt-hierarki
================

Det finns olika typer av objekt:

FreeObject - Icke spelarstyrt objekt som rör sig fritt över spelplanen
RouteObject - Icke spelarstyrt objekt som rör sig efter en förutbestämd bana
TopDownObject - Spelarobjekt som styrs med tangentbord, kan röra sig i åtta riktningar
MouseObject - Spelarobjekt som ersätter muspekaren
PlatformObject - Spelarobjekt som styrs med tangentbord, super mario style
TextCounter-objekt - Objekt som följer en Counter och visar dess värde med text
ImageCounter-objekt - Samma som ovan fast med ikoner
Text-objekt

Objekt-state
================
Objekt ska kunna ha olika states. 

Alla attribut för ett objekt bestäms av vilket state de är i. När state byts på ett objekt sätts alla attribut som finns specificerade på det aktuella statet till det värde som finns angivet i statet.

Varje scenobjekt har ett separat state, men de värden som sätts hämtas från deras parent.

States skall kunna ändras genom actions och användas som villkor när man skapar actions.

Databas
================

Tabell 1: Innehåller alla global objects som kan skapas, både i editing och runtime. Ingen skillnad görs på dessa.
Tabell 2: Innehåller alla scener. Varje scen har Scene Object som refererar till Global Object i tabell 1 med hjälp av Global Objectets unika namn. Dessa Scene Object innehåller vissa attribut som är specifika för den aktuella scenen medan andra är direkt kopplade till motsvarande attribut för Global Objectet (t.ex. rules). Dessa Scene Object kan ges en unik identifier, och blir isåfall valbara som targets för actions.

Runtime-state
================

Innehåller en tabell med alla runtimeobjekt som för tillfället befinner sig på spelplanen. De refererar antingen till Scene Object eller Global Object.

Events
================

Varje Global Object kan ha triggers som triggar vid olika händelser
Objekt:
OnCreate
OnDestroy
OnCollide*
OnClick***

Counter:**
Equals:
LessThan:
GreaterThan:


Timer:**
Equals:
LessThan:
GreaterThan:


* Kan ha en trigger per objekt.
** LessThan eller GreaterThan exekveras inte om Equals exekverar.
*** MouseObject ska inte ha OnClick

Varje trigger kan i sin tur innehålla en eller flera actions.

Actions
================

En Action är en viss händelse som påverkar ett eller flera runtimeobjekt.

Prio 1:

Destroy Object (params: "it" eller ett named objekt)
Create Object (params: ett globalt objekt)

Add from counter (params: counter, värde)
Subtract from counter (params: counter, värde)
Set counter value (params: counter, värde)

Show text (params: textobjekt)
Hide text (params: textobjekt)
Set text (params: textobjekt, sträng)

Start timer (params: timer)
Pause timer (params: timer)
Reset timer (params: timer)
Add to timer (params: timer, värde)
Subtract from timer (params: timer, värde)
Set timer (params: timer, värde)

Switch scene (params: scene)

Prio 2:
Move object (params: named objekt, x, y)
Next scene
Previous scene
Resize object (params: named objekt, percentage) * behövs eventuellt inte med states
Exile object (params: named objekt)
Return object (params: named objekt)


Prio 3:
Change speed/direction
Change direction of timer

Conditions
================

Varje action kan ha en Condition som måste vara uppfylld innan Action:en utförs.

object exists
counter count
timer count


